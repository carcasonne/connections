{% extends "base.html" %}

{% block title %}{{ page.title }}{% endblock title %}

{% block extra_head %}
<link rel="stylesheet" href="/css/page.css">
<link rel="stylesheet" href="/css/page-specific/article-page.css">
{% endblock extra_head %}

{% block content %}
<article class="article-page">
    <!-- Back to articles link -->
    <div class="article-navigation">
        <a href="/articles" class="back-link">← Back to Articles</a>
    </div>

    <div class="article-header">
        <h1>{{ page.title }}</h1>
        
        <div class="article-meta">
            <span class="article-date">{{ page.date | date(format="%Y-%m-%d") }}</span>
            
            {% if page.extra.author %}
            <span class="article-author">by {{ page.extra.author }}</span>
            {% endif %}
            
            {% if page.extra.connection_level %}
            <span class="connection-level">Connection level: {{ page.extra.connection_level }}</span>
            {% endif %}
            
            {% if page.extra.log_date %}
            <span class="log-date">{{ page.extra.log_date }}</span>
            {% endif %}
        </div>
    </div>

    <!-- Content in multi-column layout -->
    <div class="multi-column">
        {{ page.content | safe }}
    </div>

    {% if page.extra.show_card %}
    <div class="cufflink-card">
        <div class="card-header">
            <span class="bridges-id">{{ page.extra.card_header | default(value="PORTER NOTES") }}</span>
        </div>
        <div class="card-content">
            {{ page.extra.card_content | markdown | safe }}
        </div>
    </div>
    {% endif %}

    <!-- Article footer -->
    <div class="article-footer">
        <div class="article-navigation">
            <a href="/articles" class="back-link">← Back to Articles</a>
        </div>
    </div>
</article>
{% endblock content %}