{% extends "base.html" %}

{% block title %}{{ section.title }}{% endblock title %}

{% block extra_head %}
<link rel="stylesheet" href="/css/page-specific/music-section.css">
{% endblock extra_head %}

{% block content %}
<div class="content-wrapper">
    <section class="section">
        <div class="section-header">
            <h1>{{ section.title }}</h1>
            <div class="layer-indicator">{{ section.title }}.collection â€” {{ section.pages | length }} albums</div>
        </div>

        {% if section.content %}
        <div class="prose">
            {{ section.content | safe }}
        </div>
        {% endif %}

        {% if section.pages %}
        <div class="albums-grid">
            {% for album in section.pages | sort(attribute="extra.year") | reverse %}
            <a href="{{ album.permalink }}" class="album-card">
                {% if album.extra.cover %}
                <div class="album-cover-container">
                    <img src="{{ album.extra.cover }}" alt="{{ album.title }} cover" class="album-cover">
                </div>
                {% endif %}
                
                <div class="album-info">
                    <div class="album-title">{{ album.title }}</div>
                    <div class="artist">{{ album.extra.artist }}</div>
                </div>
            </a>
            {% endfor %}
        </div>
        {% endif %}
    </section>
</div>
{% endblock content %}