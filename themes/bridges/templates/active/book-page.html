{% extends "base.html" %}

{% block title %}{{ page.title }} - {{ page.extra.author }}{% endblock title %}

{% block terminal_title %}{{ page.title | upper }} - {{ page.extra.author | upper }}{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="/css/page-specific/book-page.css">
{% endblock extra_head %}

{% block content %}
<div class="content-wrapper">
    <article class="section">
        <header class="section-header">
            <h1>{{ page.title }}</h1>
            <div class="media-meta">
                <span class="author">{{ page.extra.author }}</span>
                {% if page.extra.language %}
                <span class="language">{{ page.extra.language }}</span>
                {% endif %}
                {% if page.extra.status %}
                <span class="status-badge status-{{ page.extra.status | lower }}">{{ page.extra.status }}</span>
                {% endif %}
            </div>
            
            {% if page.extra.rating %}
            <div class="rating-display">
                {% for i in range(end=5) %}
                <div class="rating-bar {% if i < page.extra.rating|int %}rating-filled{% endif %}"></div>
                {% endfor %}
            </div>
            {% endif %}
        </header>

        <div class="content-sidebar">
            {% if page.extra.cover %}
            <div class="sidebar-column">
                <img src="{{ page.extra.cover }}" alt="{{ page.title }} cover" class="cover-sidebar">
            </div>
            {% endif %}
            
            <div class="main-column">
                {{ page.content | safe }}
            </div>
        </div>
    </article>
</div>
{% endblock content %}